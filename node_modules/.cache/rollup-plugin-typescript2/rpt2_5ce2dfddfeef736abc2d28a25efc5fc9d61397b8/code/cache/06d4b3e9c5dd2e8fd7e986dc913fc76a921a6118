{"code":"import { __awaiter, __generator, __spreadArray } from \"tslib\";\nimport React, { createContext, useContext, useState } from 'react';\nexport var ModalContext = createContext({\n    stack: [],\n    launchModal: null,\n});\nexport var ModalContextProvider = function (_a) {\n    var children = _a.children;\n    var _b = useState([]), stack = _b[0], updateStack = _b[1];\n    var launchModal = function (render, resolvers, onBackdropClickUse) {\n        // Wrap resolvers to update the stack\n        var wrappedResovers = Object.keys(resolvers).reduce(function (acc, key) {\n            var resolver = resolvers[key];\n            acc[key] = function (ev) { return __awaiter(void 0, void 0, void 0, function () {\n                var result;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, resolver(ev)];\n                        case 1:\n                            result = _a.sent();\n                            updateStack(stack.slice(0, -1));\n                            return [2 /*return*/, result];\n                    }\n                });\n            }); };\n            return acc;\n        }, {});\n        updateStack(__spreadArray(__spreadArray([], stack, true), [\n            {\n                render: render,\n                resolvers: wrappedResovers,\n                onBackdropClickUse: onBackdropClickUse,\n            },\n        ], false));\n    };\n    var contextProperties = {\n        stack: stack,\n        launchModal: launchModal,\n    };\n    return <ModalContext.Provider value={contextProperties}>{children}</ModalContext.Provider>;\n};\n/**\n * Get properties from the modal context\n * @returns {ModalContextProperties} Object with the modal context properties\n */\nexport function useModalContext() {\n    var _a;\n    return (_a = useContext(ModalContext)) !== null && _a !== void 0 ? _a : {};\n}\n/**\n * Short-hand for `useModalContext().launchModal`\n * @returns {LaunchModal} The launchModal function\n */\nexport function useModal() {\n    var launchModal = useModalContext().launchModal;\n    return launchModal;\n}\n//# sourceMappingURL=context.jsx.map","references":["/Users/ogw/Development/react-modal-port/node_modules/@types/react/index.d.ts"],"map":"{\"version\":3,\"file\":\"context.jsx\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/context.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,EAAE,EACZ,aAAa,EACb,UAAU,EACV,QAAQ,EAET,MAAM,OAAO,CAAC;AAEf,MAAM,CAAC,IAAM,YAAY,GAAG,aAAa,CAGtC;IACD,KAAK,EAAE,EAAE;IACT,WAAW,EAAE,IAAI;CAClB,CAAC,CAAC;AAEH,MAAM,CAAC,IAAM,oBAAoB,GAAG,UAAC,EAAqD;QAAnD,QAAQ,cAAA;IAEvC,IAAA,KAAyB,QAAQ,CAAmB,EAAE,CAAC,EAArD,KAAK,QAAA,EAAE,WAAW,QAAmC,CAAC;IAE9D,IAAM,WAAW,GAAgB,UAAC,MAAM,EAAE,SAAS,EAAE,kBAAkB;QACrE,qCAAqC;QACrC,IAAM,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;YAC7D,IAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YAChC,GAAG,CAAC,GAAG,CAAC,GAAG,UAAO,EAAmB;;;;gCACpB,qBAAM,QAAQ,CAAC,EAAE,CAAC,EAAA;;4BAA3B,MAAM,GAAG,SAAkB;4BACjC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;4BAChC,sBAAO,MAAM,EAAC;;;iBACf,CAAC;YACF,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAA0B,CAAC,CAAC;QAC/B,WAAW,iCACN,KAAK;YACR;gBACE,MAAM,QAAA;gBACN,SAAS,EAAE,eAAe;gBAC1B,kBAAkB,oBAAA;aACnB;kBACD,CAAC;IACL,CAAC,CAAC;IAEF,IAAM,iBAAiB,GAA2B;QAChD,KAAK,OAAA;QACL,WAAW,aAAA;KACZ,CAAC;IAEF,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;AAE7F,CAAC,CAAC;AAEF;;;GAGG;AACH,MAAM,UAAU,eAAe;;IAC7B,OAAO,MAAA,UAAU,CAAC,YAAY,CAAC,mCAAI,EAAE,CAAC;AACxC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,QAAQ;IACd,IAAA,WAAW,GAAK,eAAe,EAAE,YAAtB,CAAuB;IAC1C,OAAO,WAAW,CAAC;AACrB,CAAC\"}"}
